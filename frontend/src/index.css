@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --color-bg-base: #111936;
        --color-surface-1: #1a223f;
        --color-surface-2: #212946;
        --color-primary: #673ab7;
        /* Deep Purple */
        --color-primary-light: #ede7f6;
        --color-secondary: #2196f3;
        /* Blue */
        --color-secondary-light: #e3f2fd;
        --color-success: #00e676;
        --color-error: #f44336;
        --color-warning: #ff9800;
        --text-primary: #d7dcec;
        --text-secondary: #8492c4;
    }

    html {
        font-size: 16px;
        background-color: var(--color-bg-base);
        color: var(--text-primary);
        scrollbar-gutter: stable;
    }

    body {
        @apply bg-slate-50 dark:bg-[#111936] text-slate-900 dark:text-[#d7dcec] transition-colors duration-200;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }

    /* Soft minimal borders */
    * {
        @apply border-slate-300 dark:border-[#8492c4]/20;
    }

    /* Focus States */
    :focus-visible {
        outline: none;
        box-shadow: 0 0 0 2px var(--color-secondary);
        border-radius: 0.5rem;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        @apply font-bold tracking-tight text-slate-900 dark:text-white;
    }
}

@layer components {

    /* ===== Core Dashboard Panel ===== */
    .dashboard-panel {
        @apply bg-white dark:bg-[#1a223f] border border-slate-200 dark:border-[#8492c4]/10 shadow-lg transition-all duration-300 rounded-2xl relative overflow-hidden;
    }

    .dashboard-panel-hover:hover {
        @apply shadow-xl -translate-y-1 border-slate-300 dark:border-[#8492c4]/20;
    }

    /* ===== Buttons: Soft, Rounded ===== */
    .btn-primary {
        @apply px-5 py-2.5 bg-indigo-500 hover:bg-indigo-600 text-white font-medium text-sm transition-all duration-200 rounded-xl shadow-md shadow-indigo-500/30 hover:shadow-lg hover:shadow-indigo-500/40 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none border-none;
    }

    .btn-secondary {
        @apply px-5 py-2.5 bg-slate-100 dark:bg-[#212946] border border-slate-300 dark:border-[#8492c4]/20 hover:bg-[#29314f] text-slate-900 dark:text-[#d7dcec] font-medium text-sm transition-all duration-200 rounded-xl hover:text-white;
    }

    .btn-danger {
        @apply px-5 py-2.5 bg-rose-500/10 hover:bg-rose-500/20 text-rose-400 font-medium text-sm transition-all duration-200 rounded-xl border border-rose-500/20;
    }

    .btn-ghost {
        @apply px-4 py-2 hover:bg-slate-100 dark:bg-[#212946] text-slate-500 dark:text-[#8492c4] hover:text-indigo-400 font-medium text-sm transition-colors duration-200 rounded-xl border border-transparent;
    }

    .btn-icon {
        @apply p-2.5 hover:bg-slate-100 dark:bg-[#212946] text-slate-500 dark:text-[#8492c4] hover:text-indigo-400 transition-colors duration-200 rounded-xl border border-transparent;
    }

    /* ===== Inputs: Smooth Form Controls ===== */
    .input {
        @apply w-full px-4 py-3 bg-slate-50 dark:bg-[#111936] border border-slate-300 dark:border-[#8492c4]/20 text-slate-900 dark:text-[#d7dcec] focus:border-indigo-500 focus:bg-white dark:bg-[#1a223f] outline-none transition-all duration-200 text-sm placeholder:text-slate-500 dark:text-[#8492c4]/50 rounded-xl shadow-inner;
    }

    .input:focus {
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15);
    }

    .label {
        @apply block text-xs font-semibold text-slate-500 dark:text-[#8492c4] mb-1.5 tracking-wide;
    }

    /* ===== Badges: Soft Pills ===== */
    .badge {
        @apply inline-flex items-center justify-center px-2.5 py-1 text-xs font-semibold rounded-full border border-transparent;
    }

    .badge-next {
        @apply badge bg-amber-500/10 text-amber-500 border-amber-500/20;
    }

    .badge-running {
        @apply badge bg-indigo-500/10 text-indigo-400 border-indigo-500/20;
    }

    .badge-completed {
        @apply badge bg-emerald-500/10 text-emerald-500 border-emerald-500/20;
    }

    .badge-failed {
        @apply badge bg-rose-500/10 text-rose-500 border-rose-500/20;
    }

    .badge-aborted {
        @apply badge bg-orange-500/10 text-orange-400 border-orange-500/20;
    }

    .badge-idle {
        @apply badge bg-[#8492c4]/10 text-slate-500 dark:text-[#8492c4] border-slate-300 dark:border-[#8492c4]/20;
    }

    .badge-human {
        @apply badge bg-purple-500/10 text-purple-400 border-purple-500/20;
    }

    /* ===== Sidebar ===== */
    .sidebar {
        @apply flex flex-col bg-slate-50 dark:bg-[#111936] border-r border-slate-200 dark:border-[#8492c4]/10 relative z-10;
    }
}

/* ===== Scrollbar: Soft ===== */
@layer utilities {
    .scrollbar-thin {
        scrollbar-width: thin;
        scrollbar-color: #212946 transparent;
    }
}

.scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #212946;
    border-radius: 9999px;
}

.scrollbar-thin:hover::-webkit-scrollbar-thumb {
    background-color: #29314f;
}

@layer components {

    /* DnD styles - Soft Highlight */
    .dragging-card-clone {
        @apply opacity-90 border-indigo-500 bg-[#1e2545] transition-none cursor-grabbing z-50 shadow-2xl shadow-indigo-500/40 ring-2 ring-indigo-500/40;
    }

    .drag-over {
        @apply bg-slate-100 dark:bg-[#212946]/50 rounded-2xl ring-2 ring-indigo-500/30;
    }
}